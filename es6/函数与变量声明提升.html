<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //变量声明会被顶置，函数声明也会被顶置且比变量更先声明。
      // 变量的声明和赋值语句一起写时，JS引擎在解析时，会将其拆成声明和赋值2部分，声明置顶，赋值保留在原来位置。
      // 声明过的变量不会再重复声明。

      // todo 例子1

      // function ma() {
      //   //undefined
      //   console.log(a)
      //   if (!a) {
      //     var a = 2
      //   }
      //   //2
      //   console.log(a)
      // }
      // ma()

      // todo 例子2

      // console.log('a' in window)
      // if (!'a' in window) {
      //   var a = 1
      // }
      // console.log(a)

      // todo 例子3
      // var a = 1
      // function fn() {
      //   console.log(a)
      //   a = 2
      //   console.log(a)
      //   return
      //   // if (false) {
      //   //   function a() {}
      //   // }
      //   function a() {}
      // }
      // fn()
      // console.log(a)

      //函数提升优先于变量  变量和函数存放的地方不同
      // VariableEnvironment:
      // myname -> undefined,
      // showName ->function : {console.log(myname)
      // todo 例子4
      // getName()
      // function getName() {
      //   console.log(2)
      // }
      // function getName() {
      //   console.log(3)
      // }

      // var getName = function () {
      //   console.log(1)
      // }
      // getName()

      // todo 例子5
      // console.log(getName)
      // getName = 1
      // function getName() {
      //   console.log(2)
      // }

      // console.log(a())
      /*
       * 函数声明优于变量声明
       * 函数表达式会将变量提升，但是代码在执行的时候才会被赋值
       */
      // todo 例子6
      // test()
      // console.log(test) // 函数
      // function test() {
      //   console.log('我是函数')
      // }
      // console.log(test) // 函数
      // var test = '我是变量'
      // console.log(test) //我是变量
      // var test = function (params) {
      //   console.log('我是函数表达式')
      // }
      // console.log(test) // 函数表达式
      // test() // 函数表达式
      /*
              高级
            */
      // todo 例子7

      // console.log(test)
      // function test() {
      //   console.log('我是函数')
      // }
      // console.log(test)
      // function test() {
      //   console.log('我是函数表达式')
      // }
      // console.log(test)
      // test()

      // todo 例子8

      //       块内的函数声明会提升到块内的顶部，同时也会在全局作用域用var声明一个同名的变量，初始值为undefined
      // 这个块外的全局同名变量的赋值时机是执行完块内那行函数声明语句后才赋值
      // 块内的函数声明会提升到块内顶部，区别提升到块外，它并不会用var去声明一个同名的变量

      //https://juejin.cn/post/6844903955814694919#heading-4
      // console.log(a, window.a)
      // if (true) {
      //   console.log(a)
      //   var a = 0
      //   function a() {}
      // }

      // todo 例子9
      // var a = 90
      // console.log(`1 ${window.a},${a}`)
      // {
      //   console.log(`2 ${window.a},${a}`)
      //   function a() {}
      //   console.log(`5 ${window.a},${a}`)
      //   a = 50
      //   console.log(`3 ${window.a},${a}`)
      // }
      // console.log(`4 ${window.a},${a}`)

      // todo 例子10
      // var a = 90
      // console.log(`${window.a},${a}`)
      // {
      //   console.log(`${window.a},${a}`)
      //   a = 50
      //   console.log(`${window.a},${a}`)
      //   function a() {}
      //   console.log(`${window.a},${a}`)
      // }
      // console.log(`${window.a},${a}`)

      // todo 例子11
      // console.log(`1 ${window.a},${a}`)
      // {
      //   console.log(`2 ${window.a},${a}`)
      //   function a() {}
      //   console.log(`2 ${window.a},${a}`)
      //   a = 50
      //   function a() {
      //     console.log(1)
      //   } // 再增加个
      //   console.log(`3 ${window.a},${a}`)
      //   a = 60
      //   console.log(`5 ${window.a},${a}`)
      // }
      // console.log(`4 ${window.a},${a}`)

      // todo 例子12
      // console.log(a, window.a)
      // var a = 0
      // if (true) {
      //   console.log(a)
      //   a = 1
      //   a = 2
      //   console.log(a)
      //   function a() {}
      //   a = 3
      //   function a() {}
      //   a = 21
      //   console.log(a)
      // }
      // console.log(a)

      // console.log(b)
      // {
      //   var b = 2
      // }

      // 在提升的过程中，相同的函数会覆盖上一个函数，并且函数优先于变量提升

      // console.log(myname)
      // myname()
      // console.log(myname)
      // var myname = '极客时间'
      // console.log(myname)
      // function myname() {
      //   console.log('函数showName被执行')
      // }

      // ddd
      // function showName() {
      //   console.log('极客邦')
      // }

      // showName()

      // var showName = 2
      // function showName() {
      //   console.log('极客时间')
      // }
      // showName()

      // console.log(myname)

      // var myname = '极客时间'
      // function showName() {
      //   console.log(myname)
      //   if (0) {
      //     var myname = '极客邦'
      //   }
      //   console.log(myname)
      // }
      // showName()

      // function foo() {
      //   var a = 1
      //   let b = 2
      //   {
      //     let b = 3
      //     var c = 4
      //     let d = 5
      //     console.log(a)
      //     console.log(b)
      //   }
      //   console.log(b)
      //   console.log(c)
      //   console.log(d)
      // }
      // foo()

      // function bar() {
      //   console.log(myName)
      // }
      // function foo() {
      //   var myName = '极客邦'
      //   bar()
      // }
      // var myName = '极客时间'
      // foo()

      // function bar() {
      //   var myName = '极客世界'
      //   let test1 = 100
      //   if (1) {
      //     let myName = 'Chrome浏览器'
      //     console.log(test)
      //   }
      // }
      // function foo() {
      //   var myName = '极客邦'
      //   let test = 2
      //   {
      //     let test = 3
      //     bar()
      //   }
      // }
      // var myName = '极客时间'
      // let myAge = 10
      // let test = 1
      // foo()

      // function foo() {
      //   var myName = '极客时间'
      //   var test1 = 1
      //   const test2 = 2
      //   var innerBar = {
      //     setName: function (newName) {
      //       myName = newName
      //     },
      //     getName: function () {
      //       console.log(test1)
      //       return myName
      //     },
      //   }
      //   return innerBar
      // }
      // var bar = foo()
      // bar.setName('极客邦')
      // bar.getName()
      // console.log(bar.getName())
    </script>
  </body>
</html>
